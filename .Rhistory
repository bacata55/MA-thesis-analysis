#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_results, aes(x = as.Date(date, origin = "1970-01-01"), y = neg, color = "Joint statement")) +
geom_line(data = govt_results, aes(x = as.Date(date, origin = "1970-01-01"), y = neg, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
# Neg emotion and major agreements/violence
neg_major <- base_neg +
ggtitle("Major Events and Percent Negative Emotion Words in Statements") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
# Neg emotion and ceasefire dates
neg_cf <- base_neg +
ggtitle("Ceasefires and Percent Negative Emotion Words in Statements") +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
#################################################################################
# Pos emotion: base graph
base_pos = ggplot() +
geom_line(data = FARC_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pos, color = "FARC statement")) +
geom_jitter() +
geom_line(data = joint_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pos, color = "Joint statement")) +
geom_line(data = govt_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pos, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent Positive Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
# pos emotion and major agreements
pos_major <- base_pos +
ggtitle("Major Events and Percent Positive Emotion Words in Statements") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
# pos emotion and ceasefires
pos_cf <- base_pos +
ggtitle("Ceasefires and Percent Positive Emotion Words in Statements") +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
#################################################################################
# let's graph 3rd person plural pronouns from FARC -- indicator of extremism
base_ellos = ggplot() +
geom_line(data = FARC_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pp3, color = "FARC statement")) +
geom_jitter() +
geom_line(data = joint_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pp3, color = "Joint statement")) +
geom_line(data = govt_results, aes(x = as.Date(date, origin = "1970-01-01"), y = pp3, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent 3rd Person Pl Pronoun",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
# add major agreements and ceasefires
ellos_major <- base_ellos +
ggtitle("Major Events and Use of 3rd Person Pl. Pronoun") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
# run all the graphs
base_neg
base_pos
base_ellos
neg_cf
neg_major
pos_cf
pos_major
ellos_major
#################################################################################
#################################################################################
# Find breakpoints
# Function to find breakpoints for each column of a dataframe. Takes one argument: a dataframe whose first column is the date
break_finder <- function(df) {
# make a list to contain the dates
break_obs <- vector("list", length(df) - 1)
# get breakpoints
for (i in 2:length(df)) {
break_obs[i - 1] <- (list(breakpoints(df[[i]] ~ 1)$breakpoints))
}
return(break_obs)
}
# Function to convert break obs to dates. Takes two arguments: a list of lists (shudder), and an original df
get_breakdate <- function(listoflists, df) {
# for each list of break obs
for (i in 1:length(listoflists)) {
# if it's not empty
if (!is.na(listoflists[i])) {
# get the observations
unlisted_obs <- unlist(listoflists[i])
dates_list <- vector("list", 0)
# and then for each of the observations
for (j in 1:length(unlisted_obs)) {
# get the date from the dataframe and add it to the list
current_date <- df$date[unlisted_obs[j]]
dates_list <- append(dates_list, current_date)
}
listoflists[i] <- list(dates_list)
}
}
return(listoflists)
}
FARC_breaks <- get_breakdate(break_finder(FARC_results), FARC_results)
govt_breaks <- get_breakdate(break_finder(govt_results), govt_results)
joint_breaks <- get_breakdate(break_finder(joint_results), joint_results)
#################################################################################
#################################################################################
# Loess out some new data
all_dates <- unique(sort(as.numeric(c(FARC_results$date, joint_results$date, govt_results$date))))
# function that takes a df of raw points, estimates loess, and fills out new data with it
loess_filler <- function(liwc_results) {
date <- all_dates
neg <- loess(liwc_results$neg ~ as.numeric(liwc_results$date), control=loess.control(surface="direct"))
pos <- loess(liwc_results$pos ~ as.numeric(liwc_results$date), control=loess.control(surface="direct"))
pp3 <- loess(liwc_results$pp3 ~ as.numeric(liwc_results$date), control=loess.control(surface="direct"))
death <- loess(liwc_results$death ~ as.numeric(liwc_results$date), control=loess.control(surface="direct"))
pred_neg <- predict(neg, newdata = date)
pred_pos <- predict(pos, newdata = date)
pred_pp3 <- predict(pp3, newdata = date)
pred_death <- predict(death, newdata = date)
# make the dataframe
results_df <- data.frame(cbind(date, pred_neg, pred_pos, pred_pp3, pred_death))
results_df$date <- as.Date(date, origin = "1970-01-01")
return(results_df)
}
# predict missing values for our data
FARC_predicted <- loess_filler(FARC_raw)
govt_predicted <- loess_filler(govt_raw)
joint_predicted <- loess_filler(joint_raw)
# where are the structural changes in these data?
pred_FARC_breaks <- get_breakdate(break_finder(FARC_predicted), FARC_predicted)
pred_govt_breaks <- get_breakdate(break_finder(govt_predicted), govt_predicted)
pred_joint_breaks <- get_breakdate(break_finder(joint_predicted), joint_predicted)
neg_major
flatten(FARC_breaks)
unlist(FARC_breaks)
class(unlist(FARC_breaks))
as.data.frame(unlist(FARC_breaks))
df <- as.data.frame(unlist(FARC_breaks))
df$group <- NA
df
FARC_breaks[1]
length(FARC_breaks[1])
length(FARC_breaks[[1]])
length(FARC_breaks[[2]])
negs <- rep("neg_break", length(FARC_breaks[[1]]))
negs
class(negs)
df$group <- negs
negs <- ("blah", 5)
negs <- ("blah", length(df))
negs <- (3, length(df))
filter(df, unlist(FARC_breaks) != NA)
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
}
convert_breaks(FARC_breaks)
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
return(df)
}
convert_breaks(FARC_breaks)
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
return(df)
}
convert_breaks(FARC_breaks)
FARC_breaks_df <- convert_breaks(FARC_breaks)
govt_breaks_df <- convert_breaks(govt_breaks)
joint_breaks_df <- convert_breaks(joint_breaks)
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "FARC neg break"), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "Govt neg break"), linetype = 1)
neg_breaks_gg
class(FARC_breaks_df$group)
FARC_breaks
FARC_breaks_df
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
colnames(df, c("date", "group"))
return(df)
}
# get the dataframes
FARC_breaks_df <- convert_breaks(FARC_breaks)
govt_breaks_df <- convert_breaks(govt_breaks)
joint_breaks_df <- convert_breaks(joint_breaks)
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
colnames(df) <- c("date", "group")
return(df)
}
# get the dataframes
FARC_breaks_df <- convert_breaks(FARC_breaks)
govt_breaks_df <- convert_breaks(govt_breaks)
joint_breaks_df <- convert_breaks(joint_breaks)
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
colnames(df)[1] <- "date"
return(df)
}
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
colnames(df)[1] <- "date"
return(df)
}
# get the dataframes
FARC_breaks_df <- convert_breaks(FARC_breaks)
govt_breaks_df <- convert_breaks(govt_breaks)
joint_breaks_df <- convert_breaks(joint_breaks)
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "FARC neg break"), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "Govt neg break"), linetype = 1)
neg_breaks_gg
# let's look at them on the graph
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "FARC"), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "Govt"), linetype = 1)
neg_breaks_gg
as.numeric(FARC_breaks_df)
as.numeric(FARC_breaks_df$date)
dates
convert_breaks <- function(listoflists) {
df <- as.data.frame(unlist(listoflists))
df$group <- NA
# now fill in by type
negs <- rep("neg_break", length(listoflists[[1]]))
poss <- rep("pos_break", length(listoflists[[2]]))
pp3 <- rep("pp3_break", length(listoflists[[3]]))
death <- rep("death_break", length(listoflists[[4]]))
groups <- c(negs, poss, pp3, death)
df$group <- groups
df <- na.omit(df)
colnames(df)[1] <- "date"
df$date <- as.Date(df$date, origin = "1970-01-01")
return(df)
}
# get the dataframes
FARC_breaks_df <- convert_breaks(FARC_breaks)
govt_breaks_df <- convert_breaks(govt_breaks)
joint_breaks_df <- convert_breaks(joint_breaks)
FARC_breaks_df
# let's look at them on the graph
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "FARC"), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "Govt"), linetype = 1)
neg_breaks_gg
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date)), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date)), linetype = 1)
neg_breaks_gg
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "red"), linetype = 2) +
geom_vline(data = filter(govt_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date)), linetype = 1)
neg_breaks_gg
# let's look at them on the graph
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(FARC_breaks_df, group == "neg_breaks"), mapping = aes(xintercept = as.numeric(date), color = "FARC"), linetype = 2) +
geom_vline(data = filter(FARC_breaks_df, group == "pos_breaks"), mapping = aes(xintercept = as.numeric(date), color = "Govt"), linetype = 1)
neg_breaks_gg
class(dates)
dates$date
class(dates$date)
class(FARC_breaks_df$date)
FARC_breaks_df$date
neg_breaks_gg
neg_major
neg_breaks <- filter(FARC_breaks_df, group == "neg_breaks")
neg_breaks
neg_breaks <- filter(FARC_breaks_df, group = "neg_breaks")
neg_breaks <- filter(FARC_breaks_df, group == "neg_breaks")
neg_breaks
FARC_breaks_df
neg_breaks <- filter(FARC_breaks_df, group == "neg_break")
neg_breaks
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
df1$group <- "FARC"
df2 <- filter(b, group == d)
df2$group <- "govt"
df3 <- filter(c, group == d)
df3$group <- "joint"
df <- cbind(df1, df2, df3)
return(df)
}
break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "neg_break")
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
df1$group <- "FARC"
df2 <- filter(b, group == d)
df2$group <- "govt"
df3 <- filter(c, group == d)
df3$group <- "joint"
df <- rbind(df1, df2, df3)
return(df)
}
break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "neg_break")
neg_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "neg_break")
pos_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pos_break")
pp3_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pp3_break")
death_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "death_break")
death_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "death_break")
pos_breaks
neg_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "neg_break")
neg_breaks
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(neg_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC"), linetype = 2) +
geom_vline(data = filter(neg_breaks, group == "govt"), mapping = aes(xintercept = as.numeric(date), color = "Govt"), linetype = 1)
neg_breaks_gg
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(neg_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(neg_breaks, group == "govt"), mapping = aes(xintercept = as.numeric(date), color = "Govt break"), linetype = 1)
neg_breaks_gg
pos_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pos_break")
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
if (nrows(df1) != 0) {
df1$group <- "FARC"
}
df2 <- filter(b, group == d)
if (nrows(df2) != 0) {
df2$group <- "govt"
}
df3 <- filter(c, group == d)
if (nrows(df3) != 0) {
df3$group <- "joint"
}
df <- rbind(df1, df2, df3)
if (nrows(df) > 0) {
return(df)
}
else {
return NA
}
}
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
if (nrows(df1) != 0) {
df1$group <- "FARC"
}
df2 <- filter(b, group == d)
if (nrows(df2) != 0) {
df2$group <- "govt"
}
df3 <- filter(c, group == d)
if (nrows(df3) != 0) {
df3$group <- "joint"
}
df <- rbind(df1, df2, df3)
if (nrows(df) > 0) {
return(df)
}
}
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
if (nrows(df1) != 0) {
df1$group <- "FARC"
}
df2 <- filter(b, group == d)
if (nrows(df2) != 0) {
df2$group <- "govt"
}
df3 <- filter(c, group == d)
if (nrows(df3) != 0) {
df3$group <- "joint"
}
df <- rbind(df1, df2, df3)
if (nrows(df) > 0) {
return(df)
}
}
pos_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pos_break")
break_sorter <- function(a,b,c,d) {
df1 <- filter(a, group == d)
if (nrow(df1) != 0) {
df1$group <- "FARC"
}
df2 <- filter(b, group == d)
if (nrow(df2) != 0) {
df2$group <- "govt"
}
df3 <- filter(c, group == d)
if (nrow(df3) != 0) {
df3$group <- "joint"
}
df <- rbind(df1, df2, df3)
if (nrow(df) > 0) {
return(df)
}
}
pos_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pos_break")
pos_breaks
pp3_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "pp3_break")
pp3_breaks
death_breaks <- break_sorter(FARC_breaks_df, govt_breaks_df, joint_breaks_df, "death_break")
death_breaks
neg_breaks
neg_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(neg_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(neg_breaks, group == "govt"), mapping = aes(xintercept = as.numeric(date), color = "Govt break"), linetype = 1) +
geom_vline(data = filter(neg_breaks, group == "joint"), mapping = aes(xintercept = as.numeric(date), color = "Joint break"), linetype = 3)
neg_breaks
neg_breaks_gg
pos_breaks
pos_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(pos_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(pos_breaks, group == "govt"), mapping = aes(xintercept = as.numeric(date), color = "Govt break"), linetype = 1) +
geom_vline(data = filter(pos_breaks, group == "joint"), mapping = aes(xintercept = as.numeric(date), color = "Joint break"), linetype = 3)
pos_breaks_gg
pos_breaks_gg <- base_neg +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(pos_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(pos_breaks, group == "joint"), mapping = aes(xintercept = as.numeric(date), color = "Joint break"), linetype = 3)
pos_breaks_gg
pos_breaks_gg <- base_pos +
ggtitle("Breakpoints in Negative Emotion") +
geom_vline(data = filter(pos_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(pos_breaks, group == "joint"), mapping = aes(xintercept = as.numeric(date), color = "Joint break"), linetype = 3)
pos_breaks_gg
pos_breaks_gg <- base_pos +
ggtitle("Breakpoints in Positive Emotion") +
geom_vline(data = filter(pos_breaks, group == "FARC"), mapping = aes(xintercept = as.numeric(date), color = "FARC break"), linetype = 2) +
geom_vline(data = filter(pos_breaks, group == "joint"), mapping = aes(xintercept = as.numeric(date), color = "Joint break"), linetype = 3)
neg_breaks_gg
pos_breaks_gg
View(dates)
View(dates)
View(neg_breaks)
View(pos_breaks)
View(pp3_breaks)
FARC_results
View(FARC_results)
base_neg
neg_breaks_gg
pos_breaks_gg
