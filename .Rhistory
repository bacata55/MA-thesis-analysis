geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
cf_end <- as.Date(c("1/20/13", "1/15/14", "5/28/14", "5/22/15", "1/1/16"), "%m/%d/%y")
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
# Neg emotion and ceasefire dates
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=Inf, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
govt <- read.csv("../MA-datasets/govtstatements.csv", stringsAsFactors = FALSE)
govt <- read.csv("govtstatements.csv", stringsAsFactors = FALSE)
govt_meta <- select(govt, date)
govt_dates <- as.Date(govt_meta[[1]], "%Y-%m-%d")
liwc_FARC <- liwcalike(govt$text, spanish_dict)
liwc_govt <- liwcalike(govt$text, spanish_dict)
liwc_FARC <- liwcalike(FARC$text, spanish_dict)
cf_end
ceasefires <- data.frame(start = as.Date(c("11/20/12", "12/15/13", "5/16/14", "12/20/14", "7/20/15"), "%m/%d/%y"), end = as.Date(c("1/20/13", "1/15/14", "5/28/14", "5/22/15", "1/1/16"), "%m/%d/%y"))
View(ceasefires)
View(ceasefires)
class(ceasefires)
class(ceasefires[1,1])
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(data = ceasefires, aes(xmin= start, xmax= end, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
FARC_neg <- data.frame(cbind(FARC_dates, as.numeric(liwc_FARC$EmoNeg)))
FARC_neg$FARC_dates <- as.Date(FARC_dates, origin = "1970-01-01")
View(FARC_neg)
View(FARC_neg)
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(data = ceasefires, aes(xmin= start, xmax= end, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
joint_neg <- as.data.frame(cbind(joint_dates, as.numeric(liwc_joint$EmoNeg)))
joint_neg$joint_dates <- as.Date(joint_neg$joint_dates, origin = "1970-01-01")
View(joint_neg)
View(joint_neg)
FARC_neg <- data.frame(cbind(FARC_dates, as.numeric(liwc_FARC$EmoNeg)))
FARC_neg$FARC_dates <- as.Date(FARC_dates, origin = "1970-01-01")
FARC_pos <- data.frame(cbind(FARC_dates, as.numeric(liwc_FARC$EmoNeg)))
FARC_pos$FARC_dates <- as.Date(FARC_dates, origin = "1970-01-01")
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(data = ceasefires, aes(xmin= start, xmax= end, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(data = ceasefires, aes(xmin = start, xmax= end, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(aes(xmin = ceasefires$start, xmax= ceasefires$end, ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) + geom_rect(data=ceasefires, aes(xmin=start, xmax=end, ymin=-Inf, ymax=+Inf), fill='pink', alpha=0.2)
ggplot(data = FARC_neg, mapping = aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_line(aes(color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
ggplot(data = FARC_neg) +
geom_line(aes(x = FARC_dates, y = V2, color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
ggplot(FARC_neg) +
geom_line(aes(x = FARC_dates, y = V2, color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
ggplot() +
geom_line(data = FARC_neg, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
ggplot() +
geom_line(data = FARC_neg, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
base_neg = ggplot() +
geom_line(data = FARC_neg, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
ggtitle("Percent of Negative Emotion Words in FARC and Joint Statements") +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_neg
neg_major <- base_neg +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
neg_major
neg_cf <- base_neg +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
neg_cf
neg_cf <- base_neg +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 1, alpha = 0.1) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.01)
neg_cf
neg_cf <- base_neg +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
neg_cf
base_pos = ggplot() +
geom_line(data = FARC_pos, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Positive Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
base_pos = ggplot() +
geom_line(data = FARC_pos, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Positive Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_pos = ggplot() +
geom_line(data = FARC_pos, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
labs(
x = "Date",
y = "Percent Positive Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_pos
pos_major <- base_pos +
ggtitle("Major Events and Percent Positive Emotion Words in Statements") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
pos_major
pos_cf <- base_pos +
ggtitle("Ceasefires and Percent Positive Emotion Words in Statements") +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
pos_cf
govt_neg <- as.data.frame(cbind(govt_dates, as.numeric(liwc_govt$EmoNeg)))
govt_neg$govt_dates <- as.Date(govt_neg$govt_dates, origin = "1970-01-01")
govt_pos <- as.data.frame(cbind(govt_dates, as.numeric(liwc_govt$EmoPos)))
govt_pos$govt_dates <- as.Date(govt_pos$govt_dates, origin = "1970-01-01")
base_neg = ggplot() +
geom_line(data = FARC_neg, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = govt_neg, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent Neg Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_neg
neg_major <- base_neg +
ggtitle("Major Events and Percent Negative Emotion Words in Statements") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
neg_major
neg_cf <- base_neg +
ggtitle("Ceasefires and Percent Negative Emotion Words in Statements") +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
neg_cf
base_pos = ggplot() +
geom_line(data = FARC_pos, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_pos, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = govt_pos, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent Positive Emotion",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
# pos emotion and major agreements
pos_major <- base_pos +
ggtitle("Major Events and Percent Positive Emotion Words in Statements") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
# pos emotion and ceasefires
pos_cf <- base_pos +
ggtitle("Ceasefires and Percent Positive Emotion Words in Statements") +
geom_rect(aes(xmin=cf_start[1], xmax=cf_end[1], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[2], xmax=cf_end[2], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[3], xmax=cf_end[3], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[4], xmax=cf_end[4], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3) +
geom_rect(aes(xmin=cf_start[5], xmax=cf_end[5], ymin=-Inf, ymax=Inf), fill = "yellow", linetype = 0, alpha = 0.3)
base_pos
pos_cf
pos_major
ellos <- as.numeric(liwc_FARC$Ellos)
ellos
ellos = ggplot() +
geom_line(data = ellos, aes(x = FARC_dates, y = V2, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = govt_neg, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent 3rd Person Pl Pronoun",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
View(FARC_neg)
ellos <- data.frame(as.numeric(liwc_FARC$Ellos))
ellos <- data.frame(ell = as.numeric(liwc_FARC$Ellos), date = FARC_dates)
View(ellos)
base_ellos = ggplot() +
geom_line(data = FARC_ellos, aes(x = dates, y = ell, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = govt_neg, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent 3rd Person Pl Pronoun",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
FARC_ellos <- data.frame(ell = as.numeric(liwc_FARC$Ellos), date = FARC_dates)
base_ellos = ggplot() +
geom_line(data = FARC_ellos, aes(x = dates, y = ell, color = "FARC statement")) +
geom_jitter() +
#  geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
# geom_line(data = govt_neg, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent 3rd Person Pl Pronoun",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_ellos
joint_ellos <- data.frame(ell = as.numeric(liwc_joint$Ellos), date = joint_dates)
base_ellos = ggplot() +
geom_line(data = FARC_ellos, aes(x = date, y = ell, color = "FARC statement")) +
geom_jitter() +
# geom_point(data = joint_neg, aes(x = joint_dates, y = V2, color = "Joint statement")) +
geom_line(data = joint_ellos, aes(x = date, y = ell, color = "Joint statement")) +
# geom_line(data = govt_neg, aes(x = govt_dates, y = V2, color = "Govt statement")) +
labs(
x = "Date",
y = "Percent 3rd Person Pl Pronoun",
color = "Legend") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA))
base_ellos
ellis_major <- base_ellos +
ggtitle("Major Events and Use of 3rd Person Pl. Pronoun") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
# add major agreements and ceasefires
ellos_major <- base_ellos +
ggtitle("Major Events and Use of 3rd Person Pl. Pronoun") +
geom_vline(data = filter(dates, group == "major_agree"), mapping = aes(xintercept = as.numeric(date), color = "Major agreement"), linetype = 2) +
geom_vline(data = filter(dates, group == "major_viol"), mapping = aes(xintercept = as.numeric(date), color = "Major violence"), linetype = 1)
ellos_major
base_neg
base_pos
base_ellos
neg_cf
neg_major
pos_cf
pos_major
ellos_major
trim_FARC <- quanteda::trim(FARC_dfm, minCount = 30, minDoc = 10)
FARC_dfm <- dfm(FARC_corp, language = "spanish")
trim_FARC <- quanteda::trim(FARC_dfm, minCount = 30, minDoc = 10)
TM <- LDA(trim_FARC, 30, method = "Gibbs", control = list(burnin = 3, thin = 30, iter = 30, seed = 1234))
library("topicmodels")
library"lda"
library("lda")
library("stm")
TM <- LDA(trim_FARC, 30, method = "Gibbs", control = list(burnin = 3, thin = 30, iter = 30, seed = 1234))
library("LDAvis")
top10words <- get_terms(TM, k = 10)
View(top10words)
doc_topics <- TM@gamma
LDApost <- posterior(TM)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_news),
vocab = features(trim_news),
term.frequency = colSums(trim_news))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_news),
vocab = features(trim_news),
term.frequency = colSums(trim_FARC))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_news),
vocab = features(trim_news),
term.frequency = colSums(trim_FARC))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
install.packages("austin", repos="http://r-forge.r-project.org", type="source", dependencies=TRUE)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_news),
vocab = features(trim_news),
term.frequency = colSums(trim_FARC))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_FARC),
vocab = features(trim_FARC),
term.frequency = colSums(trim_FARC))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
FARC_dfm <- dfm(FARC_corp, language = "spanish", stem = TRUE, ignoredFeatures = stopwords("spanish"))
trim_FARC <- quanteda::trim(FARC_dfm, minCount = 30, minDoc = 10)
TM <- LDA(trim_FARC, 30, method = "Gibbs", control = list(burnin = 3, thin = 30, iter = 30, seed = 1234))
top10words <- get_terms(TM, k = 10)
doc_topics <- TM@gamma
LDApost <- posterior(TM)
jsonLDA <- createJSON(phi = LDApost$terms,
theta = LDApost$topics,
doc.length = ntoken(trim_FARC),
vocab = features(trim_FARC),
term.frequency = colSums(trim_FARC))
serVis(jsonLDA, out.dir = "visCollLDA", open.browser = TRUE)
base_neg
View(FARC)
View(FARC)
View(liwc_FARC)
View(liwc_FARC)
ecdf(liwc_FARC$WC)
plot(ecdf(liwc_FARC$WC))
neg_major
neg_cf
